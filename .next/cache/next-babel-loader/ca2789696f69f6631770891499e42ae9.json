{"ast":null,"code":"import { ofType, combineEpics } from \"redux-observable\";\nimport { FETCH_PAIR, fetchPairSuccess, fetchPairFailure, fetchPair } from \"./reducer\";\nimport { mergeMap, map, catchError, mapTo } from \"rxjs/operators\";\nimport { request } from \"universal-rxjs-ajax\";\nimport { of } from \"rxjs\";\nimport { BEGIN_GAME } from \"../MainPage/reducer\";\n\nvar beginGameEpic = function beginGameEpic(action$) {\n  return action$.pipe(ofType(BEGIN_GAME), mapTo(fetchPair()));\n};\n\nvar fetchPairEpic = function fetchPairEpic(action$, state$, _ref) {\n  var apiBaseUrl = _ref.apiBaseUrl;\n  return action$.pipe(ofType(FETCH_PAIR), mergeMap(function (action) {\n    return request({\n      url: \"\".concat(apiBaseUrl, \"/word_pair\")\n    }).pipe(map(function (_ref2) {\n      var response = _ref2.response;\n      console.log('wordpair api response:', response);\n      return fetchPairSuccess({\n        id: response.id,\n        word1: response.word_1,\n        word2: response.word_2,\n        example: response.example_sentence\n      });\n    }), catchError(function (error) {\n      return of(fetchPairFailure(error.xhr.response));\n    }));\n  }));\n};\n\nvar wordPairEpics = combineEpics(fetchPairEpic, beginGameEpic);\nexport default wordPairEpics;","map":{"version":3,"sources":["C:/Users/yerla/UI/Semester7/TACodes/word-relation-gamification-frontend/modules/WordPair/epics.js"],"names":["ofType","combineEpics","FETCH_PAIR","fetchPairSuccess","fetchPairFailure","fetchPair","mergeMap","map","catchError","mapTo","request","of","BEGIN_GAME","beginGameEpic","action$","pipe","fetchPairEpic","state$","apiBaseUrl","action","url","response","console","log","id","word1","word_1","word2","word_2","example","example_sentence","error","xhr","wordPairEpics"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,YAAjB,QAAqC,kBAArC;AACA,SAASC,UAAT,EAAqBC,gBAArB,EAAuCC,gBAAvC,EAAyDC,SAAzD;AACA,SAASC,QAAT,EAAmBC,GAAnB,EAAwBC,UAAxB,EAAoCC,KAApC,QAAiD,gBAAjD;AACA,SAASC,OAAT,QAAwB,qBAAxB;AACA,SAASC,EAAT,QAAmB,MAAnB;AACA,SAASC,UAAT;;AAEA,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,OAAD;AAAA,SAClBA,OAAO,CAACC,IAAR,CACIf,MAAM,CAACY,UAAD,CADV,EAEIH,KAAK,CAACJ,SAAS,EAAV,CAFT,CADkB;AAAA,CAAtB;;AAMA,IAAMW,aAAa,GAAG,SAAhBA,aAAgB,CAACF,OAAD,EAAUG,MAAV;AAAA,MAAmBC,UAAnB,QAAmBA,UAAnB;AAAA,SAClBJ,OAAO,CAACC,IAAR,CACIf,MAAM,CAACE,UAAD,CADV,EAEII,QAAQ,CAAC,UAAAa,MAAM;AAAA,WACXT,OAAO,CAAC;AACJU,MAAAA,GAAG,YAAKF,UAAL;AADC,KAAD,CAAP,CAEGH,IAFH,CAGIR,GAAG,CAAC,iBACA;AAAA,UADEc,QACF,SADEA,QACF;AACIC,MAAAA,OAAO,CAACC,GAAR,CAAY,wBAAZ,EAAsCF,QAAtC;AACA,aAAOlB,gBAAgB,CAAC;AACpBqB,QAAAA,EAAE,EAAEH,QAAQ,CAACG,EADO;AAEpBC,QAAAA,KAAK,EAAEJ,QAAQ,CAACK,MAFI;AAGpBC,QAAAA,KAAK,EAAEN,QAAQ,CAACO,MAHI;AAIpBC,QAAAA,OAAO,EAAER,QAAQ,CAACS;AAJE,OAAD,CAAvB;AAMH,KATF,CAHP,EAcItB,UAAU,CAAC,UAAAuB,KAAK;AAAA,aACZpB,EAAE,CACEP,gBAAgB,CACZ2B,KAAK,CAACC,GAAN,CAAUX,QADE,CADlB,CADU;AAAA,KAAN,CAdd,CADW;AAAA,GAAP,CAFZ,CADkB;AAAA,CAAtB;;AA6BA,IAAMY,aAAa,GAAGhC,YAAY,CAC9Be,aAD8B,EAE9BH,aAF8B,CAAlC;AAKA,eAAeoB,aAAf","sourcesContent":["import { ofType, combineEpics } from \"redux-observable\"; \r\nimport { FETCH_PAIR, fetchPairSuccess, fetchPairFailure, fetchPair } from \"./reducer\";\r\nimport { mergeMap, map, catchError, mapTo } from \"rxjs/operators\";\r\nimport { request } from \"universal-rxjs-ajax\";\r\nimport { of } from \"rxjs\";\r\nimport { BEGIN_GAME } from \"modules/MainPage/reducer\";\r\n\r\nconst beginGameEpic = (action$) =>\r\n    action$.pipe(\r\n        ofType(BEGIN_GAME),\r\n        mapTo(fetchPair())\r\n    )\r\n\r\nconst fetchPairEpic = (action$, state$, {apiBaseUrl}) =>\r\n    action$.pipe(\r\n        ofType(FETCH_PAIR),\r\n        mergeMap(action =>\r\n            request({\r\n                url: `${apiBaseUrl}/word_pair`,\r\n            }).pipe(\r\n                map(({response}) =>\r\n                    {\r\n                        console.log('wordpair api response:', response)\r\n                        return fetchPairSuccess({\r\n                            id: response.id,\r\n                            word1: response.word_1,\r\n                            word2: response.word_2,\r\n                            example: response.example_sentence\r\n                        })\r\n                    }\r\n                ),\r\n                catchError(error =>\r\n                    of(\r\n                        fetchPairFailure(\r\n                            error.xhr.response,\r\n                        )\r\n                    )\r\n                )\r\n            )\r\n        )\r\n    )\r\n\r\nconst wordPairEpics = combineEpics(\r\n    fetchPairEpic,\r\n    beginGameEpic\r\n)\r\n\r\nexport default wordPairEpics\r\n"]},"metadata":{},"sourceType":"module"}